<div class="container-fluid">
	<div class="row">
		<div class="col-md-3 roomList">
			<h1>{{ username }}</h1>
			<div ng-controller="ModalCtrl">
				<script type="text/ng-template" id="myModalContent.html">
					<div class="modal-header">
						<h3 class="modal-title">Create new room</h3>
					</div>
					<div class="modal-body">
						<h4 class="modal-subtitle">Enter a room name</h4>
						<input type="text" ng-model="roomName">
					</div>
					<div class="modal-footer">
						<button class="btn btn-primary" type="button" ng-click="cancel()">Cancel</button>
						<button class="btn btn-primary" type="button" ng-click="createRoom()">Create room</button>
					</div>
				</script>
				<h3>Rooms<button type="button" class="btn btn-default pull-right" ng-click="open()">New Room</button></h3>
			</div>

			<!-- Display rooms -->
			<ul class="displayRoomList">
				<div id="rooms" ng-repeat="room in roomList">
					<li ng-class="getActive(room.$id)" ng-click="select(room.$id)">{{ room.name }}</li>
				</div>
			</ul>
		</div>

		<div class="col-md-9 chatRoom" ng-hide="chatHidden">
			<h2 class="activeRoom-name">{{ activeRoom.name }}</h2>
			<div class="row displayed-messages" id="displayedMessages" scroll-glue>	
				<table class="table">
					<tr ng-repeat="message in messages">
						<td>
							<table>
								<tr>
									<td class="message-username">{{ message.username }}</td>
								</tr>
								<tr>
									<td class="message-content">{{ message.content }}</td>
									<td class="message-date">{{ message.sentAt | date: "dd/MM/yyyy 'at' h:mma" }}</td>
								<tr>
							</table>
						</td>
					</tr>
				</table>			
			</div>
			<div class="row new-message">
				<textarea class="new-message-input" type="text" ng-model="messageContent" required="true"></textarea>
				<button type="button" class="btn btn-primary pull-right" ng-click="send()">Send</button>
			</div>
		</div>
	</div>
</div>
